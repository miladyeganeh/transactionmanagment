Configuration:
  status: debug

  Properties:
    Property:
    name: log-path
    value: "logs"

  appenders:
    Console:
    name: LogToConsole
    PatternLayout:
    Pattern: "%d{dd MMM yyyy HHH:mm:ss,SSS} [%t] [%-5level] %c{1}:%L - %msg%n"

  RollingFile:
    - name: LogToRollingFile
      fileName: "${log-path}/flow.log"
      filePattern: "${log-path}/$${date:yyyy-MM-dd}/flow-%d{yyyy-MM-dd-HH.mm}.log"
      PatternLayout:
        pattern: "%d{dd MMM yyyy HHH:mm:ss,SSS} [%t] [%-5level] %c{1}:%L - %msg%n"
      Policies:
        SizeBasedTriggeringPolicy:
          size: 10MB
      CronTriggeringPolicy:
        schedule: " 0 0 0 1/1 * ? *"
      encoding: "UTF-8"
    - name: LogErrorToRollingFile
      fileName: "${log-path}/error.log"
      filePattern: "${log-path}/$${date:yyyy-MM-dd}/error-%d{yyyy-MM-dd-HH.mm}.log"
      PatternLayout:
        pattern: "%d{dd MMM yyyy HHH:mm:ss,SSS} [%t] [%-5level] %c{1}:%L - %msg%n"
      Policies:
        SizeBasedTriggeringPolicy:
          size: 10MB
        CronTriggeringPolicy:
          schedule: " 0 0 0 1/1 * ? *"
      encoding: "UTF-8"
    - name: JsonFile
      fileName: "${log-path}/flow.json.log"
      filePattern: "${log-path}/$${date:yyyy-MM-dd}/flow-json-%d{yyyy-MM-dd-HH.mm}.log"
      Policies:
        SizeBasedTriggeringPolicy:
          size: 10MB
        CronTriggeringPolicy:
          schedule: " 0 0 0 1/1 * ? *"
      JsonLayout:
        compact: true
        properties: true
        propertiesAsList: true
        eventEol: true
        locationInfo: true
      encoding: "UTF-8"
  Loggers:
    logger:
      - name: com.my.accountmanger
        level: debug
        additivity: false
        AppenderRef:
          - ref: LogToConsole
          - ref: LogToRollingFile
          - ref: JsonFile
    - name: com.my.accountmanger
      level: error
      additivity: false
      AppenderRef:
        - ref: LogToConsole
        - ref: LogToRollingFile
        - ref: JsonFile
        - ref: LogErrorToRollingFile
    - name: com.my.accountmanger
      level: info
      additivity: false
      AppenderRef:
        - ref: LogToConsole
        - ref: LogToRollingFile
        - ref: JsonFile
    - name: com.my.accountmanger
      level: trace
      additivity: false
      AppenderRef:
        - ref: LogToConsole
        - ref: LogToRollingFile
        - ref: JsonFile

    Root:
      level: error
      AppenderRef:
        - ref: LogToConsole
        - ref: LogToRollingFile
        - ref: JsonFile
        - ref: LogErrorToRollingFile
        level: error